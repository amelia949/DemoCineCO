<!DOCTYPE html>
<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script type="text/javascript" src="assets/js/functions.js"></script>
	<script type="text/javascript" src="assets/js/knockout-2.3.0.js"></script>
	<script type="text/javascript" src="assets/js/jquery.touchSwipe.min.js"></script>
	<link href="assets/css/main.css" type="text/css" rel="stylesheet" />
	<link type="text/css" rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
<script id='code_1'>
$(function() {			
		$(".test4").swipe( { swipeStatus:swipe2, allowPageScroll:"vertical"} );

		var cant = 0;
		var total = $(".blankTop").height()+150;
		var mov = 0;
		var aux = 0;
	
		function swipe2(event, phase, direction, distance) {
			if(phase == "start"){
				aux = 0;
			}if(phase=="move" && direction=="up"){
				if( aux < distance && mov <= total){
					mov += distance;
					aux = distance;
				}else if( aux > distance && mov >= 0){
					mov -= distance;
					aux = distance;
				}
				if(mov >= 0 && mov <= total){
					cant = total-mov;
					alpha = cant/total;
					$(imgNoBlur).css('opacity', alpha);
				}
			}
			if(phase=="move" && direction=="down"){
				if( aux < distance && mov >= 0){
				//$(this).text( phase +" you have swiped " + distance + "px in direction:" + direction + " aux: "+aux +" mov: "+mov +" aplha: "+alpha);
					mov -= distance;
					aux = distance;
				}else if( aux > distance && mov <= total){
					mov += distance;
					aux = distance;
				}
				if(mov >= 0 && mov <= total){
					cant = total-mov;
					alpha = cant/total;
					
					$(imgNoBlur).css('opacity', alpha);
				}
			}
		}
	});
</script>
	<img id="imgBlur" class="imgA" data-bind="attr:{src: imagePathBlur}" alt="some_text">
	<img id="imgNoBlur" class="imgB" data-bind="attr:{src: imagePath}" alt="some_text">
	<div id="header">
		<img class="regreso" src="assets/imgs/regreso.png" alt="Regresar">
	</div>
	<div id="content" class="test4">
		<div class="blankTop"></div>
		
		<div id="detalle">
			<p data-bind="text: titulo"></p>
			<p data-bind="text: original()"></p>
			<p>G&eacute;nero: <span data-bind="text: genero"/></p>
			<p>Clasificaci&oacute;n: <span data-bind="text: clasificacion"/></p>
			<p>Duraci&oacute;n: <span data-bind="text: duracion"/> min</p>
			<p>Actores: <span data-bind="text: artistas"/> </p>
			<p>Director: <span data-bind="text: director"/> </p>
			<p>Sinopsis:</p> 
			<p><span data-bind="text:sinopsis"/></p>
			<a href="trailer.html">
				<img class="trailer" src="assets/imgs/trailer.png" alt="Trailer">
			</a>
		</div>
		<ul class="dias "data-bind="foreach: dias">
			<li data-bind="text: $data, 
					   css: { selected: $data == $root.chosenFolderId() },
					   click: $root.goToFolder">
			</li>
		</ul>
		<div id="horarios">
			<table id="mtable">
				<!-- Todo: Generate table body -->
				<tbody data-bind="foreach: { data: complejos, as: 'complejo' }">
					<tr>
						<td class="fin">
							<table>
								<tr>
									<td colspan="3" data-bind="text: nombreComplejo"></td>
								</tr>
								<tr data-bind="foreach: { data: detailFuncions, as: 'detail' }">
									<td data-bind="text: $root.showHora(detail.hora),click:$root.compra">    </td>
								</tr>
							</table>
						</td>
						<td class="fin">
							<img src="assets/imgs/boletoicono.png" alt="Comprar">
						</td>	
					</tr>
				</tbody>
			</table>
		</div>	
		<div class="blankBottom"></div>
	</div>
	<div id="footer">
		<img class="redes" src="assets/imgs/face.png" alt="Regresar">
		<img class="redes" src="assets/imgs/twit.png" alt="Regresar">
	</div>
</body>
</html>